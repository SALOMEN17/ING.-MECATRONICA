
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Interactiva - Ing. Mecatrónica</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #fff0f5;
      overflow-x: auto;
    }
    h1 {
      text-align: center;
      color: #b03a87;
      padding: 1rem;
    }
    .malla {
      display: flex;
      gap: 1rem;
      padding: 1rem;
      justify-content: start;
    }
    .semestre {
      background: #f8e1f0;
      border-radius: 16px;
      padding: 1rem;
      min-width: 200px;
    }
    .semestre h3 {
      text-align: center;
      color: #9c27b0;
    }
    .materia {
      background: #f3c6e2;
      border-radius: 10px;
      padding: 0.5rem;
      margin: 0.5rem 0;
      cursor: pointer;
      opacity: 0.4;
      transition: all 0.3s ease;
    }
    .materia.activa {
      opacity: 1;
      box-shadow: 0 0 5px #b03a87;
    }
    .materia:hover::after {
      content: attr(data-creditos) " créditos";
      position: absolute;
      background: #fff0f5;
      padding: 4px 8px;
      border-radius: 5px;
      font-size: 12px;
      color: #4a0072;
    }
  </style>
</head>
<body>
  <h1>Malla Interactiva - Ing. Mecatrónica</h1>
  <div class="malla" id="malla"></div>

  <script>
    const materias = [
      { id: "intro_ingenieria", nombre: "Introducción a la Ingeniería", creditos: 2, semestre: 1, abre: [] },
      { id: "calculo1", nombre: "Cálculo Diferencial", creditos: 3, semestre: 1, abre: ["calculo2"] },
      { id: "calculo2", nombre: "Cálculo Integral", creditos: 3, semestre: 2, abre: ["calculo3"] },
      { id: "calculo3", nombre: "Cálculo Vectorial", creditos: 3, semestre: 3, abre: ["ecuaciones"] },
      { id: "ecuaciones", nombre: "Ecuaciones Diferenciales", creditos: 3, semestre: 4, abre: [] },
      { id: "logica", nombre: "Lógica de Programación", creditos: 3, semestre: 2, abre: ["poo"] },
      { id: "poo", nombre: "Programación Orientada a Objetos", creditos: 2, semestre: 3, abre: ["embebidos"] },
      { id: "embebidos", nombre: "Sistemas Embebidos", creditos: 2, semestre: 7, abre: [] },
      { id: "fisica", nombre: "Física Mecánica", creditos: 3, semestre: 2, abre: ["estatica"] },
      { id: "estatica", nombre: "Estática", creditos: 3, semestre: 3, abre: ["dinamica"] },
      { id: "dinamica", nombre: "Dinámica", creditos: 3, semestre: 4, abre: [] },
      { id: "electronica_analogica", nombre: "Electrónica Analógica", creditos: 3, semestre: 5, abre: ["electronica_digital"] },
      { id: "electronica_digital", nombre: "Electrónica Digital", creditos: 3, semestre: 6, abre: ["automatizacion"] },
      { id: "automatizacion", nombre: "Automatización Industrial", creditos: 3, semestre: 7, abre: ["control1"] },
      { id: "control1", nombre: "Sistemas de Control I", creditos: 3, semestre: 8, abre: ["control2"] },
      { id: "control2", nombre: "Sistemas de Control II", creditos: 3, semestre: 9, abre: [] },
      { id: "ia", nombre: "Inteligencia Artificial", creditos: 2, semestre: 8, abre: ["robotica"] },
      { id: "robotica", nombre: "Robótica y Laboratorio", creditos: 3, semestre: 9, abre: [] }
    ];

    const contenedor = document.getElementById("malla");
    for (let i = 1; i <= 10; i++) {
      const col = document.createElement("div");
      col.classList.add("semestre");
      col.innerHTML = `<h3>${i}º Semestre</h3>`;
      materias.filter(m => m.semestre === i).forEach(m => {
        const card = document.createElement("div");
        card.classList.add("materia");
        card.id = m.id;
        card.innerText = m.nombre;
        card.dataset.creditos = m.creditos;
        card.onclick = () => activar(m.id);
        col.appendChild(card);
      });
      contenedor.appendChild(col);
    }

    function activar(id) {
      const m = materias.find(x => x.id === id);
      document.getElementById(id).classList.add("activa");
      m.abre.forEach(hijo => {
        const nodo = document.getElementById(hijo);
        if (nodo) nodo.classList.add("activa");
      });
    }
  </script>
</body>
</html>
