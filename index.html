
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Interactiva - Ingeniería Mecatrónica</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #fff0f8;
    }
    h1 {
      text-align: center;
      padding: 1rem;
      background: #fce4ec;
      color: #880e4f;
    }
    .malla {
      display: flex;
      overflow-x: auto;
      gap: 1rem;
      padding: 1rem;
    }
    .semestre {
      min-width: 250px;
      background: #f8bbd0;
      padding: 1rem;
      border-radius: 12px;
      flex-shrink: 0;
    }
    .semestre h3 {
      text-align: center;
      color: #6a1b9a;
    }
    .materia {
      background: #fce4ec;
      margin: 8px 0;
      padding: 8px;
      border-radius: 8px;
      cursor: pointer;
      opacity: 0.4;
      transition: all 0.3s ease;
    }
    .materia.activa {
      opacity: 1;
      box-shadow: 0 0 5px #ba68c8;
    }
    .boton-reiniciar {
      display: block;
      margin: 1rem auto;
      padding: 10px 20px;
      background: #f48fb1;
      border: none;
      border-radius: 8px;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Malla Interactiva - Ingeniería Mecatrónica</h1>
  <button class="boton-reiniciar" onclick="reiniciarMalla()">Reiniciar Malla</button>
  <div class="malla" id="malla"></div>

  <script>
    const materias = [
      { id: "calculo_dif", nombre: "Cálculo Diferencial", sem: 1, creditos: 3, abre: ["calculo_int"] },
      { id: "calculo_int", nombre: "Cálculo Integral", sem: 2, creditos: 3, abre: ["calculo_vec"] },
      { id: "calculo_vec", nombre: "Cálculo Vectorial", sem: 3, creditos: 3, abre: ["ecuaciones"] },
      { id: "ecuaciones", nombre: "Ecuaciones Diferenciales", sem: 4, creditos: 3, abre: ["analisis_num"] },
      { id: "analisis_num", nombre: "Análisis Numérico", sem: 5, creditos: 2, abre: [] },
      { id: "logica", nombre: "Lógica de Programación", sem: 2, creditos: 3, abre: ["poo"] },
      { id: "poo", nombre: "Programación Orientada a Objetos", sem: 3, creditos: 2, abre: ["embebidos"] },
      { id: "embebidos", nombre: "Sistemas Embebidos", sem: 7, creditos: 2, abre: [] },
      { id: "estatica", nombre: "Estática", sem: 3, creditos: 3, abre: ["dinamica"] },
      { id: "dinamica", nombre: "Dinámica", sem: 4, creditos: 3, abre: [] },
      { id: "circuitos", nombre: "Circuitos Eléctricos", sem: 4, creditos: 3, abre: ["electronica_analog"] },
      { id: "electronica_analog", nombre: "Electrónica Analógica", sem: 5, creditos: 3, abre: ["electronica_digital"] },
      { id: "electronica_digital", nombre: "Electrónica Digital", sem: 6, creditos: 3, abre: ["automatizacion"] },
      { id: "automatizacion", nombre: "Automatización Industrial", sem: 7, creditos: 3, abre: ["control1"] },
      { id: "control1", nombre: "Sistemas de Control I", sem: 8, creditos: 3, abre: ["control2"] },
      { id: "control2", nombre: "Sistemas de Control II", sem: 9, creditos: 3, abre: [] },
      { id: "ia", nombre: "Inteligencia Artificial", sem: 8, creditos: 2, abre: ["robotica"] },
      { id: "robotica", nombre: "Robótica", sem: 9, creditos: 3, abre: [] },
    ];

    const contenedor = document.getElementById("malla");
    for (let i = 1; i <= 10; i++) {
      const col = document.createElement("div");
      col.className = "semestre";
      col.innerHTML = `<h3>${i}º Semestre</h3>`;
      materias.filter(m => m.sem === i).forEach(m => {
        const div = document.createElement("div");
        div.className = "materia";
        div.id = m.id;
        div.textContent = m.nombre;
        div.title = `${m.creditos} créditos`;
        div.onclick = () => activarMateria(m.id);
        col.appendChild(div);
      });
      contenedor.appendChild(col);
    }

    function activarMateria(id) {
      const m = materias.find(x => x.id === id);
      const nodo = document.getElementById(id);
      if (nodo) nodo.classList.add("activa");
      m.abre.forEach(destino => {
        const siguiente = document.getElementById(destino);
        if (siguiente) siguiente.classList.add("activa");
      });
    }

    function reiniciarMalla() {
      document.querySelectorAll('.materia').forEach(m => m.classList.remove("activa"));
    }
  </script>
</body>
</html>
